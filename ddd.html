<html>
<head>
<style>
* {margin:0;padding:0;}
</style>
</head>
<body>
<script>
var d = {"code":0,"desc":353,"action":{"version":null,"appid":null,"userip":null,"svrip":null,"time":null,"domain":null,"worldid":null,"optype":null,"actionid":null,"opuid":null,"opopenid":null,"touid":null,"toopenid":null,"level":null,"source":null,"itemid":null,"itemtype":null,"itemcnt":null,"modifyexp":null,"totalexp":null,"modifycoin":null,"totalcoin":null,"modifyfee":null,"totalfee":null,"onlinetime":null,"key":null,"keycheckret":null,"safebuf":null,"remark":null,"user_num":null},"data":{"worldSpeakerInfo":{"userChannelId":0,"channelList":[]},"heroTrainRequestFlag":1,"hireList":[],"player":{"u":145480,"gold":46529,"cash":34,"exp":444440459,"food":785,"people":1000,"soldier":6083,"wounded":457,"guard":0,"ismale":1,"viewsoldier":0,"viewtroopid":1,"viewstoryid":0,"viewenemyid":0,"battlenumber":356,"mineid":0,"taxpeoplenumber":82,"minefight":10,"minesec":14400,"occupytime":6,"promote":20,"leftbattlenumber":20,"lastbattletime":1355386661,"lastfighttime":1355387195,"herovalue":-29,"trainnumber":2,"maxheroid":2,"openbattlenumber":0,"customvalue":0,"wishnumber":0,"lastminetime":1351218506,"bonusgold":0,"tavernmaxlevel":0,"standard":143,"discuss":172,"discusstimes":2,"viptotalscore":0,"vipcurscore":0,"vipfreebonus":0,"vipbonus":0,"buyminefight":0,"buyminetime":946656000,"worldSpeakerChannel":0,"newPlayer":1,"lastmaptime":0,"treasurePartId":[],"totalPay":null},"playerinfo":{"vip":0,"viplevel":0,"vipday":null,"vipexpire":946656000,"inittime":1350119687},"playermark":{"u":145480,"tutorial":4190110,"tutorial2":68,"day":"20121213","freegift":0,"logongift":0,"attacktime":946656000,"vipgift":0,"viplogongift":0,"normalgift":0,"normaltime":946656000,"monster":1017,"newPlayerDayReward":0,"newPlayerDay":8,"mineFight":0,"abFlag":null,"priceFlag":1},"inventory":[{"type":0,"id":1,"counter":12},{"type":0,"id":100,"counter":1},{"type":0,"id":97,"counter":1},{"type":0,"id":220,"counter":10},{"type":0,"id":167,"counter":2},{"type":0,"id":170,"counter":2},{"type":3,"id":31,"counter":1}],"userlimit":[],"mission":{"407":{"mid":407,"status":[0,0,0],"isfinished":null},"507":{"mid":507,"status":[0,0,0],"isfinished":null}},"mission_day":{"status":[0,1,0,0,0,1,2,0,4,0,0,0,0,0,0,0],"gifts":[0],"refreshTime":1355393860},"activity_day":{"activitytype":4,"awardtimes":0,"finishtimes":0,"activitytypeextra":0,"awardtimesextra":0,"finishtimesextra":0,"tomorrow":2,"canaward":10,"neednum":0},"troops":{"1":{"playerid":"145480","troopid":1,"heroid1":2,"heroid2":1,"heroid3":0,"heroid4":0,"heroid5":0,"heroid6":0,"heroid7":0,"heroid8":0,"heroid9":0,"soldier":0,"location":0,"locationname":" ","ismine":0,"isassist":0,"status":0,"christmas":0,"instance":null}},"jail":[],"friends":[{"uid":2000000000,"un":"King","headpic":"NPC01","level":100,"platformid":2000000000,"occupy":0,"occupyharvest":946656000,"shielddata":946656000,"ismale":1,"vip":1,"viplevel":4,"refid":0,"box":1,"leaguename":"","leagueid":0},{"uid":145454,"un":"","headpic":"","level":120,"platformid":"zzy005","leaguename":"GGGGGGG","occupy":0,"extradata":0,"occupyharvest":1350099555,"shielddata":1350096555,"ismale":1,"vip":0,"viplevel":2,"refid":"0","box":1,"leagueid":93},{"uid":145484,"un":"","headpic":"","level":84,"platformid":"wzw1","leaguename":"bb","occupy":0,"extradata":0,"occupyharvest":1350480714,"shielddata":1350467864,"ismale":1,"vip":1,"viplevel":1,"refid":"0","box":1,"leagueid":149},{"uid":144434,"un":"","headpic":"","level":80,"platformid":"test8","leaguename":"","occupy":0,"extradata":0,"occupyharvest":1355202041,"shielddata":1355199041,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":1,"leagueid":0},{"uid":"16","un":"woo","headpic":"http:\/\/g.cn\/1.png","level":60,"platformid":"1","leaguename":"Hawk","occupy":16,"extradata":0,"occupyharvest":"2012-07-10 09:39:44","shielddata":1344386208,"ismale":1,"vip":1,"viplevel":4,"refid":"0","box":1,"leagueid":4},{"uid":144429,"un":"test3","headpic":"","level":50,"platformid":"test3","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-08-13 11:13:52","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":1,"leagueid":0},{"uid":145488,"un":"","headpic":"","level":50,"platformid":"wzw3","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-07-15 17:44:29","shielddata":0,"ismale":1,"vip":0,"viplevel":2,"refid":"0","box":1,"leagueid":0},{"uid":144436,"un":"","headpic":"","level":44,"platformid":"test10","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:52","shielddata":0,"ismale":1,"vip":1,"viplevel":4,"refid":"0","box":1,"leagueid":0},{"uid":145456,"un":"","headpic":"","level":41,"platformid":"geek","leaguename":"fds","occupy":0,"extradata":0,"occupyharvest":1346828382,"shielddata":1346824812,"ismale":1,"vip":0,"viplevel":4,"refid":"0","box":1,"leagueid":14},{"uid":146364,"un":"dddfff1","headpic":"","level":40,"platformid":"dddfff1","leaguename":"ooooo","occupy":0,"extradata":0,"occupyharvest":1353830918,"shielddata":1353827918,"ismale":1,"vip":0,"viplevel":0,"refid":0,"box":1,"leagueid":15},{"uid":1684,"un":"sp101","headpic":"","level":32,"platformid":"sp101","leaguename":"asdfeasdfasef","occupy":0,"extradata":0,"occupyharvest":"2012-07-10 10:06:58","shielddata":0,"ismale":1,"vip":1,"viplevel":4,"refid":"0","box":1,"leagueid":32},{"uid":144435,"un":"test9","headpic":"","level":23,"platformid":"test9","leaguename":null,"occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:51","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":146121,"un":"0927","headpic":"","level":16,"platformid":"0927","leaguename":null,"occupy":146121,"extradata":0,"occupyharvest":"2012-08-24 05:42:52","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":144427,"un":"test1","headpic":"","level":10,"platformid":"test1","leaguename":"just","occupy":0,"extradata":0,"occupyharvest":1350041039,"shielddata":1349924351,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":146365,"un":"dddfff2","headpic":"","level":10,"platformid":"dddfff2","leaguename":"Fate","occupy":0,"extradata":0,"occupyharvest":"2012-09-06 07:55:24","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":0,"box":0},{"uid":144430,"un":"test4","headpic":"","level":4,"platformid":"test4","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-08-13 10:50:47","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":144431,"un":"test5","headpic":"","level":4,"platformid":"test5","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:50","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":144432,"un":"test6","headpic":"","level":4,"platformid":"test6","leaguename":null,"occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:51","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":144428,"un":"test2","headpic":"","level":2,"platformid":"test2","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:49","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":146142,"un":"dai1","headpic":"","level":2,"platformid":"dai1","leaguename":null,"occupy":0,"extradata":0,"occupyharvest":"2012-08-24 10:11:49","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":0,"box":0},{"uid":144433,"un":"test7","headpic":"","level":1,"platformid":"test7","leaguename":null,"occupy":0,"extradata":0,"occupyharvest":"2012-07-10 15:58:51","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":"0","box":0},{"uid":145485,"un":"wzw2","headpic":"","level":1,"platformid":"wzw2","leaguename":"","occupy":0,"extradata":0,"occupyharvest":"2012-09-13 07:39:05","shielddata":0,"ismale":1,"vip":0,"viplevel":0,"refid":0,"box":0}],"neighbor":[],"league":[],"leaguewage":0,"members":[],"christmasinfo":{"wishId":0,"endTime":0,"robCount":6,"christmasTroopId":0,"refreshTime":1355397463,"buyCount":0,"robDetail":{"145840":{"un":"jiuguan1","uid":"145840","level":"39","count":2,"headpic":"","isFight":false}},"robList":["145840"],"successWish":0,"successRob":0,"lastGiveTime":1355394933},"bot":[],"week":3,"heros":{"1":{"u":"145480","heroid":1,"heroname":"34-7","herotype":0,"herolevel":2,"herohidelevel":0,"attack":54,"defense":54,"luck":54,"corpstype":3002,"status":1,"image":24,"prize":0,"grade":"D","ismale":1,"style":0,"endtrainingtime":1350119687,"trainingtype":0,"reborntime":0,"rebornlevel":0,"troopid":1,"skill1id":15,"skill1level":1,"skill2id":0,"skill2level":0,"weapontype":0,"weaponid":0,"armortype":0,"armorid":0,"exp":5,"itemattack":0,"itemdefense":0,"newattack":0,"newdefense":0,"newluck":0,"rebornbackup":[],"atkbackup":0,"defbackup":0,"cardid":0,"cardtime":1350119687,"origrade":"D","isdirty":1,"suc":0,"fail":0},"2":{"u":"145480","heroid":2,"heroname":"Ramesses II","herotype":8,"herolevel":1,"herohidelevel":0,"attack":66,"defense":66,"luck":59,"corpstype":2002,"status":1,"image":61,"prize":2000,"grade":"D","ismale":1,"style":7,"endtrainingtime":1355394350,"trainingtype":0,"reborntime":0,"rebornlevel":22,"troopid":1,"skill1id":8,"skill1level":1,"skill2id":36,"skill2level":1,"weapontype":0,"weaponid":0,"armortype":0,"armorid":0,"exp":10,"itemattack":0,"itemdefense":0,"newattack":0,"newdefense":0,"newluck":0,"rebornbackup":[],"atkbackup":0,"defbackup":0,"cardid":0,"cardtime":1355394350,"origrade":"D","isdirty":1,"suc":0,"fail":0},"3":{"u":"145480","heroid":3,"heroname":"70-96","herotype":0,"herolevel":1,"herohidelevel":0,"attack":57,"defense":56,"luck":47,"corpstype":3002,"status":0,"image":5,"prize":1000,"grade":"D","ismale":0,"style":2,"endtrainingtime":1355394350,"trainingtype":0,"reborntime":0,"rebornlevel":28,"troopid":0,"skill1id":15,"skill1level":1,"skill2id":0,"skill2level":0,"weapontype":0,"weaponid":0,"armortype":0,"armorid":0,"exp":0,"itemattack":0,"itemdefense":0,"newattack":0,"newdefense":0,"newluck":0,"rebornbackup":[],"atkbackup":0,"defbackup":0,"cardid":0,"cardtime":1355394350,"origrade":"D","isdirty":0,"suc":0,"fail":0},"4":{"u":"145480","heroid":4,"heroname":"33-108","herotype":0,"herolevel":1,"herohidelevel":0,"attack":54,"defense":38,"luck":53,"corpstype":1002,"status":0,"image":30,"prize":1000,"grade":"D","ismale":0,"style":5,"endtrainingtime":1355394350,"trainingtype":0,"reborntime":0,"rebornlevel":24,"troopid":0,"skill1id":2,"skill1level":1,"skill2id":0,"skill2level":0,"weapontype":0,"weaponid":0,"armortype":0,"armorid":0,"exp":0,"itemattack":0,"itemdefense":0,"newattack":0,"newdefense":0,"newluck":0,"rebornbackup":[],"atkbackup":0,"defbackup":0,"cardid":0,"cardtime":1355394350,"origrade":"D","isdirty":0,"suc":0,"fail":0}},"gameinfo":{"u":145480,"refreshtime":1355393860,"continuelogin":0,"permit":8258,"permitdate":946656000,"taxtime":946656000,"taxnumber":0,"servertime":1355394974,"troopnumber":2,"storyid":3,"dragonid":[],"dragonmapid":0,"achivement":15,"friendgift":0,"sharenumber":0,"isadult":0,"firstlogontime":1355393860,"leagueid":0,"contribute":0,"medals":0,"investgold":0,"leaguewage":0,"actnumber":0,"acttime":946656000,"compensationtime":1350119687,"knightmatch":0,"buyknightmatch":0,"knightreward":0},"builds":{"0":{"u":"145480","finishtime":1355394590,"level":"8","extralevel":0,"type":0,"endworktime":1355398030,"status":1,"workdata":1,"extradata":0,"occupy":0,"occupyharvest":"2012-10-13 09:14:47","shielddata":0,"shieldtype":0,"occupydate":0,"harvesttime":0,"isdirty":1},"5":{"u":"145480","finishtime":"2012-10-13 09:14:47","level":1,"extralevel":0,"type":5,"endworktime":"2012-10-13 09:14:47","status":0,"workdata":0,"extradata":0,"occupy":0,"occupyharvest":"2012-10-13 09:14:47","shielddata":0,"shieldtype":0,"occupydate":0,"harvesttime":0,"isdirty":0},"9":{"u":"145480","finishtime":"2012-10-13 09:14:47","level":1,"extralevel":0,"type":9,"endworktime":1355118711,"status":1,"workdata":100,"extradata":1,"occupy":0,"occupyharvest":"2012-10-13 09:14:47","shielddata":0,"shieldtype":0,"occupydate":0,"harvesttime":0,"isdirty":1},"1":{"u":"145480","finishtime":1355394419,"level":2,"extralevel":0,"type":1,"endworktime":1355394741,"status":1,"workdata":115,"extradata":1,"occupy":0,"occupyharvest":1355118166,"shielddata":0,"shieldtype":0,"occupydate":1355118166,"harvesttime":0,"isdirty":1},"2":{"u":"145480","finishtime":1355118205,"level":1,"extralevel":0,"type":2,"endworktime":1355394575,"status":1,"workdata":100,"extradata":1,"occupy":0,"occupyharvest":1355118215,"shielddata":0,"shieldtype":0,"occupydate":1355118215,"harvesttime":0,"isdirty":1},"3":{"u":"145480","finishtime":1355394334,"level":1,"extralevel":0,"type":3,"endworktime":1355394344,"status":0,"workdata":0,"extradata":0,"occupy":0,"occupyharvest":1355394344,"shielddata":0,"shieldtype":0,"occupydate":1355394344,"harvesttime":0,"isdirty":null},"6":{"u":"145480","finishtime":1355394470,"level":1,"extralevel":0,"type":6,"endworktime":1355394480,"status":0,"workdata":0,"extradata":0,"occupy":0,"occupyharvest":1355394480,"shielddata":0,"shieldtype":0,"occupydate":1355394480,"harvesttime":0,"isdirty":null}},"robbery":{"u":145480,"robbery":2,"userobbery":0,"maxrobbery":2,"robberied":0,"shielddata":0,"isbuy":0,"day":20121213},"sysbattlenumber":40,"knightmatch":{"myrank":0,"gold":0},"onlinereward":{"id":2,"matureTime":1355430409,"isTake":0},"sharetokencount":0,"refreshtime":1355396400,"auth_key":"22fb6e597c666efb1175e65d9bedbddd","auth_time":1355387774,"uid":"145480","newreport":0,"servertime":1355394974,"giftchangetime":1355394462},"num":1};
//console.log(d['data']);
//var d = {"d":34,"ff":"444","dd":{}};
function tree(obj, id) {
	var target = document.createElement("div");
	target.id = id+"_child";
	document.getElementById(id).appendChild(target);
	var parent = document.getElementById(id).parentNode.style.marginRight;
	parent = Number(parent.substr(0, parent.length - 2)) + 30;
	target.style.marginLeft = parent + "px";
	if(id != "root") {
		var tmp = id.split("_");
		for(i=0;i<tmp.length;i++) {
			obj = obj[tmp[i]];
		}
	}
	else {
		id = '';
	}
	if(typeof(obj) != 'object') {
		var dd = document.createElement("div");
		dd.innerText = obj;
		target.appendChild(dd);
	}
	else {
		for(var name in obj) {
			var node = createNode(id, name, obj[name]);
			target.appendChild(node);
		}
	}
}
function createNode(id, name, value) {
	var dd = document.createElement("div");
	if(id == "") {
		dd.id = name;
	}
	else {
		dd.id = id +"_"+name;
	}

	var pic = document.createElement("div");
	pic.setAttribute("style", "height: 0px;width: 0px;border: 6px solid #000;float: left;margin-top: 6px;margin-right: 4px;");
	pic.style.borderColor = "transparent transparent transparent transparent";
	pic.id = name+"_pic";
	var nameNode = document.createElement("span");
	nameNode.style.color = "#881391";
	nameNode.innerText = name+": ";

	var valueNode = document.createElement("span");
	if(typeof(value) == "string") {
		valueNode.style.color = "#ff0000";
		valueNode.innerText = '"'+value+'"';
	}
	else if(typeof(value) == "number") {
		valueNode.style.color = "#0000ff";
		valueNode.innerText = value;
	}
	else if(typeof(value) == "object" && value != null) {
		if(Object.prototype.toString.call(value) == '[object Object]') {
			valueNode.innerText = "Object";
		}
		else if(Object.prototype.toString.call(value) == '[object Array]') {
			valueNode.innerText = "Array["+value.length+"]";
		}
		pic.style.borderColor = "transparent transparent transparent #7c7c7c";
		pic.style.borderLeftWidth = "9px";
		pic.style.marginRight = "1px"
		pic.setAttribute("loc",dd.id);
		nameNode.setAttribute("loc",dd.id);
		valueNode.setAttribute("loc",dd.id);
		dd.setAttribute("loc",dd.id);
	}
	else if(value == null) {
		valueNode.style.color = "#ff0000";
		valueNode.innerText = 'null';
	}
	dd.appendChild(pic);
	dd.appendChild(nameNode);
	dd.appendChild(valueNode);
	return dd;
}

function getJson(node, obj) {
	node.innerHTML = '';
	var dd = document.createElement("div");
	dd.id = "root";
	node.appendChild(dd);
	node.addEventListener("click", function(rr){
		var name = rr.toElement.getAttribute("loc");
		if(name == null) {
			return false;
		}
		var child = document.getElementById(name+"_child");
		var t = document.getElementById(name);
		if(t.childNodes.length >3 && child != null && child.style.display != "none") {
			child.style.display = "none";
			//var pic = document.getElementById(name+"_pic");
			//pic.style.borderColor = "transparent transparent transparent #7c7c7c";
			//pic.style.borderLeftWidth = "9px";
			//pic.style.marginRight = "1px"
			//t.removeChild(child);
		}
		else {
			var child = document.getElementById(name+"_child");
			if(child == null) {
				tree(obj, name);
			}
			else {
				child.style.display = "block";
			}
			//var pic = document.getElementById(name+"_pic");
			//pic.style.borderColor = "#7c7c7c transparent transparent transparent";
			//pic.style.borderTopWidth = "6px";
			//pic.style.marginRight = "4px"
		}
	},false);
	tree(obj, "root");
}
getJson(document.getElementsByTagName("body")[0], d);
</script>
</body>
</html>

